# Share

PMSの参考になれば幸いです。　　　　

基本的にphpはログイン回りだけなので、実質はHTMLとJavascriptだけで今回トライしています。     　　　


■診断の最初の画面：myDiagnose.php.   
キーワードを選択して「次へ」のボタンを押したら、関連するアンケートQ＆Aのページに遷移します。   
→遷移の仕組みはtransition.jsにあります。


■遷移先のQ＆Aページ：a.phpやab.php　※今回はa.phpを見てください.   
チェックボックスやセレクトボックスで選んだものに従って得点やキーワードを与えて、数値はテーブルに代入、キーワードはリストに代入して表示しています。   
→数値やキーワードの代入の仕組みはculculate.jsにあります。　　　

<culculate.js>.  
基本的にif文です。   
まずは得点集計用の配列と、キーワード集計用の配列を用意します。（pArr, tArr）得点集計用の配列には、あらかじめ３項目（PMSなら６項目）用意しておきます。   
チェックボックスやセレクトボックスが選ばれたら、項目１・２・３に任意の得点をプラスし、あとキーワードをキーワード用の配列に追加します。   
あとは、テーブルやリストに配列から値を取り出してappendしたら表示できます。   

ボタンアクションを入れたのは、クリックするまではテーブルとリストを非表示にして、クリックしたら出てくる（元の質問は消える）ようにするためです。見た感じでページ遷移のようにしてみました.  
消すためには、あらかじめCSSに消えるためのクラスを定義しておいて、JSのclassList.addでそのクラスをつけてあげるとできます。
